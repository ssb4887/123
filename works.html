<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Management Soop</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/works.css" />
    <script
      type="text/javascript"
      src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"
    ></script>
  </head>
  <body>
    <div id="wrap">
      <!-- [1] 헤더 -->
      <header id="header">
        <div class="mn_container">
          <a href="#" class="nav_mn">
            <!-- <img src="images/navmn_open.png" alt=""/> -->
          </a>
          <a href="index.html" class="logo"
            ><img src="images/logo.png" alt=""
          /></a>
          <div class="language">
            <a href="login.html"><span>Login&nbsp;&nbsp;|</span></a>
            <a href="join_1.html"><span>Join&nbsp;</span></a>
          </div>
        </div>
      </header>
      <!-- 메뉴 -->
      <nav>
        <div class="menu-btn">
          <div class="line line__1"></div>
          <div class="line line__2"></div>
          <div class="line line__3"></div>
        </div>

        <div class="sub-menu-btn">
          <div class="line line__1"></div>
          <div class="line line__2"></div>
        </div>

        <ul class="nav-links">
          <li class="link">
            <a href="index.html">Main</a>
          </li>
          <li class="link">
            <a href="Introduce.html">Company</a>
          </li>
          <li class="link">
            <a href="#">Artist</a>
            <ol>
              <li><a href="artist_detail_gy.html">공유</a></li>
              <li><a href="#">공효진</a></li>
              <li><a href="#">김재욱</a></li>
              <li><a href="artist_detail_shj.html">서현진</a></li>
              <li><a href="#">이천희</a></li>
              <li><a href="#">전도연</a></li>
              <li><a href="#">정유미</a></li>
              <li><a href="#">남지현</a></li>
              <li><a href="#">최우식</a></li>
              <li><a href="artist_detail_bsz.html">수지</a></li>
              <li><a href="#">남주혁</a></li>
            </ol>
          </li>
          <li class="link">
            <a href="#">Community</a>
            <ol>
              <li><a href="NewsNotice.html">News & Notice</a></li>
              <li><a href="works.html">Works</a></li>
            </ol>
          </li>
          <li class="link">
            <a href="#">SNS</a>
            <ol>
              <li>
                <a target="_blank" href="https://www.facebook.com/soopent">
                  Facebook <i class="fab fa-twitter"></i>
                </a>
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://www.instagram.com/management_soop/"
                >
                  Instagram <i class="fab fa-codepen"></i>
                </a>
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://www.youtube.com/channel/UCPWLltIuHLCws1-O3B4ADtg"
                >
                  Youtube <i class="fab fa-codepen"></i>
                </a>
              </li>
              <li>
                <a target="_blank" href="https://www.vlive.tv/channel/EBE269">
                  Vlive <i class="fab fa-codepen"></i>
                </a>
              </li>
              <li>
                <a target="_blank" href="https://tv.naver.com/soopent">
                  Naver Tv <i class="fab fa-codepen"></i>
                </a>
              </li>
            </ol>
          </li>
          <li class="link"></li>
          <li class="link">
            <a href="login.html">Login</a>
          </li>
          <li class="link">
            <a href="join_1.html">Join</a>
          </li>
        </ul>
      </nav>
      <!-- [2] 메인화면 -->
      <section id="main">
        <h1>WORKS</h1>
        <div class="line"></div>
        <div id="post_all">
          <div class="card">
            <div class="content">
              <h2 class="con_tit">고요의바다</h2>
              <p class="act_name">공유</p>
              <span>21.12. 개봉예정</span>
              <button class="btn" onclick="location.href='worksDetail.html'">
                더보기
              </button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">경관의 피</h2>
              <p class="act_name">최우식</p>
              <span>21.12. 개봉예정</span>
              <button
                class="btn"
                onclick="location.href='worksDetail_kkp.html'"
              >
                더보기
              </button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">그해우리는</h2>
              <p class="act_name">최우식</p>
              <span>21.12. 개봉예정</span>
              <button
                class="btn"
                onclick="location.href='worksDetail_summer.html'"
              >
                더보기
              </button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">리멤버</h2>
              <p class="act_name">남주혁</p>
              <span>21. 개봉예정</span>
              <button class="btn">더보기</button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">비상선언</h2>
              <p class="act_name">전도연</p>
              <span>22.01. 개봉예정</span>
              <button class="btn">더보기</button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">가장보통의연애</h2>
              <p class="act_name">공효진</p>
              <span>19.10.09 개봉</span>
              <button class="btn">더보기</button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">너는 나의 봄</h2>
              <p class="act_name">서현진</p>
              <span>21.07.05 첫방송</span>
              <button class="btn">더보기</button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">동백꽃필무렵</h2>
              <p class="act_name">공효진</p>
              <span>19.09.18 첫방송</span>
              <button class="btn">더보기</button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">보건교사안은영</h2>
              <p class="act_name">정유미 남주혁</p>
              <span>20.09.25 <br />넷플릭스 방영</span>
              <button class="btn">더보기</button>
            </div>
          </div>
          <div class="card">
            <div class="content">
              <h2 class="con_tit">스타트업</h2>
              <p class="act_name">수지 남주혁</p>
              <span>20.10.17 첫방송</span>
              <button class="btn">더보기</button>
            </div>
          </div>
        </div>
        <div id="post_pgbtns">
          <a href="#"><img src="images/left_btn.png" alt="" /></a>
          <a href="#" class="page_num" onclick="location.href='works.html'"
            >1</a
          >
          <a href="#" class="page_num" onclick="location.href='works2page.html'"
            >2</a
          >
          <a href="#" class="page_num">3</a>
          <a href="#" class="page_num">4</a>
          <a href="#" class="page_num">5</a>
          <a href="#"><img src="images/right_btn.png" alt="" /></a>
        </div>
      </section>
      <!-- [3] 푸터 -->
    </div>
  </body>
  <script>
    // 메뉴움직임
    console.clear();

    const nav = document.querySelector("nav");
    const navLinksContainer = document.querySelector(".nav-links");
    const navLinks = [...document.querySelectorAll(".link")];
    const menuBtn = document.querySelector(".menu-btn");
    const subMenuBtn = document.querySelector(".sub-menu-btn");

    function createHoverEl() {
      let hoverEl = document.createElement("div");
      hoverEl.className = "hover-el";
      hoverEl.style.setProperty("--y", "0px");
      hoverEl.style.setProperty("--mousex", "0px");
      hoverEl.style.setProperty("--mousey", "0px");
      navLinksContainer.appendChild(hoverEl);
    }
    createHoverEl();

    navLinks.forEach((link, index) => {
      let hoverEl = navLinksContainer.querySelector(".hover-el");
      link.style.setProperty("--delay", `${index * 50}ms`);
      link.addEventListener("mousemove", function (e) {
        hoverEl.style.setProperty("--y", `${index * 60}px`);
        hoverEl.style.setProperty("opacity", "1");
        hoverEl.style.setProperty(
          "--mousex",
          `${e.pageX - hoverEl.offsetLeft}px`
        );
        hoverEl.style.setProperty(
          "--mousey",
          `${e.pageY - hoverEl.offsetTop}px`
        );
      });
      navLinksContainer.addEventListener("mouseout", function () {
        hoverEl.style.setProperty("opacity", "0");
      });
      link.addEventListener("click", function () {
        let hoverEl = navLinksContainer.querySelector(".hover-el");
        hoverEl.style.opacity = "0";
        toggleSubmenu(link);
      });
    });

    menuBtn.addEventListener("click", function () {
      nav.classList.toggle("nav-open");
      menuBtn.classList.toggle("close");
    });
    subMenuBtn.addEventListener("click", function () {
      nav.classList.toggle("sub-menu-open");
      removeSubmenu();
    });

    function toggleSubmenu(el) {
      let subMenu = nav.querySelector(".sub-menu");
      if (el.children[1]) {
        createSubmenu(el);
      } else if (nav.contains(subMenu)) {
        removeSubmenu();
      } else {
        return;
      }
    }

    function createSubmenu(el) {
      let subMenuContainer = document.createElement("div");
      subMenuContainer.className = "sub-menu";
      let subMenuItem = el.children[1].cloneNode(true);
      let subMenuItemList = [...subMenuItem.children];
      subMenuItemList.forEach((item, index) => {
        item.classList.add("off-menu");
        item.style.setProperty("--delay", `${index * 40}ms`);
      });
      nav.classList.toggle("sub-menu-open");
      nav.appendChild(subMenuContainer);
      subMenuContainer.appendChild(subMenuItem);
      setTimeout(function () {
        subMenuItemList.forEach((item) => {
          item.classList.remove("off-menu");
          item.classList.add("on-menu");
        });
      }, 200);
    }
    function removeSubmenu() {
      let subMenu = nav.querySelector(".sub-menu");
      let subMenuItemList = [...subMenu.children[0].children];
      if (nav.contains(subMenu)) {
        subMenuItemList.forEach((item) => {
          item.classList.add("off-menu");
          item.classList.remove("on-menu");
        });
        setTimeout(function () {
          nav.removeChild(subMenu);
        }, 500);
      }
    }
  </script>
</html>
